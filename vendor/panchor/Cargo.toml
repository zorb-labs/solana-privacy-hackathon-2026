[workspace]
resolver = "2"
members = ["crates/*", "programs/*", "program-tests/*"]

[workspace.package]
version = "0.1.0"
edition = "2024"
license = "Apache-2.0"
description = "Pinocchio Anchor - Extension traits and utilities for Pinocchio Solana programs"
repository = "https://github.com/zorb-labs/panchor"
keywords = ["solana", "pinocchio", "anchor"]

[workspace.dependencies]
bytemuck = { version = "1.14.3", features = ["derive"] }
num_enum = "0.7.2"
pinocchio = "0.9.2"
pinocchio-associated-token-account = "0.2.0"
pinocchio-log = "0.5.1"
pinocchio-pubkey = "0.3.0"
pinocchio-system = "0.4.0"
pinocchio-token = "0.4.0"
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
solana-sdk = "~3"
solana-program = "~3"
strum = { version = "0.26", default-features = false, features = ["derive"] }

[profile.release]
overflow-checks = true
opt-level = "z"
strip = true
lto = true
codegen-units = 1
panic = "abort"

[profile.dev]
overflow-checks = true

[workspace.lints.rust]
unexpected_cfgs = { level = "warn", check-cfg = [
    "cfg(target_os, values(\"solana\"))"
] }

[workspace.lints.clippy]
pedantic = { level = "warn", priority = -1 }
nursery = { level = "warn", priority = -1 }
missing_errors_doc = "allow"
missing_panics_doc = "allow"
must_use_candidate = "allow"
module_name_repetitions = "allow"
inline_always = "allow"
return_self_not_must_use = "allow"
missing_const_for_fn = "allow"
similar_names = "allow"
elidable_lifetime_names = "allow"
pub_underscore_fields = "allow"
too_many_lines = "allow"
branches_sharing_code = "allow"
needless_pass_by_value = "allow"
option_if_let_else = "allow"
struct_excessive_bools = "allow"
manual_let_else = "allow"
unnecessary_wraps = "allow"
items_after_statements = "allow"
match_same_arms = "allow"
clone_on_ref_ptr = "warn"
dbg_macro = "warn"
exit = "warn"
undocumented_unsafe_blocks = "warn"
